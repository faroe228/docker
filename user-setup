#!/bin/bash
mkdir -p ~/.ssh
mv ~/authorized_keys ~/.ssh/

# Some git repositories I tend to use
clone() {
  for r; do
    git clone git://github.com/spencertipping/$r ~/$r
  done
}

mkdir -p ~/r
clone $(<repositories)

git clone git://github.com/syl20bnr/spacemacs.git ~/.emacs.d
git clone http://reykjavik:8180/infrastructure/resources ~/resources

# Initialize dotfiles
~/dotfiles/setup yes-really

# Setup for motley conf management
mkdir ~/bin

echo '# MOTLEYGEN' > ~/.ssh/config.motley
echo '# MOTLEYGEN' > ~/.bash_aliases.motley

cat >> ~/.bashrc <<'EOF'
if ! [[ -e ~/.motley-init-done ]]; then
  ~/motley/motley -f ~/resources/Motfile conf
  touch ~/.motley-init-done
fi
EOF
